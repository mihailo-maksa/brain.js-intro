const net = new brain.NeuralNetwork();
const data = [
  {
    input: { r: 0, g: 0, b: 0 },
    output: [1],
  },
  {
    input: { r: 1, g: 1, b: 1 },
    output: [0],
  },
  {
    input: {
      r: 0.5692184449038415,
      g: 0.21788406914479252,
      b: 0.1372879172451098,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8717924113440101,
      g: 0.9105827906515636,
      b: 0.6129874786613085,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5851913542581455,
      g: 0.4860416004932715,
      b: 0.354060733228696,
    },
    output: [1],
  },
  {
    input: {
      r: 0.2711856829173358,
      g: 0.3523493139005811,
      b: 0.15264179944002976,
    },
    output: [0],
  },
  {
    input: {
      r: 0.1920241471531836,
      g: 0.6066274109472465,
      b: 0.6467984989127624,
    },
    output: [1],
  },
  {
    input: {
      r: 0.19196153431222984,
      g: 0.08586794198306302,
      b: 0.976509078004659,
    },
    output: [0],
  },
  {
    input: {
      r: 0.22970436084619306,
      g: 0.7188531734122665,
      b: 0.512410880019559,
    },
    output: [1],
  },
  {
    input: {
      r: 0.9859387610594637,
      g: 0.35490145048568666,
      b: 0.13935381409882197,
    },
    output: [0],
  },
  {
    input: {
      r: 0.14679269347547064,
      g: 0.6276555837076778,
      b: 0.870560331225462,
    },
    output: [1],
  },
  {
    input: {
      r: 0.22212377501664426,
      g: 0.5068682915343599,
      b: 0.26048254766217194,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5095197265098228,
      g: 0.34830553546626675,
      b: 0.6442146895829166,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6403530082600335,
      g: 0.6880997080045468,
      b: 0.014476426174626189,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9854150190213182,
      g: 0.8644353313053388,
      b: 0.9141500941662455,
    },
    output: [1],
  },
  {
    input: {
      r: 0.46056035284946106,
      g: 0.12392085807367414,
      b: 0.453636660472871,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5562591431626425,
      g: 0.26986882058751527,
      b: 0.43037517618646115,
    },
    output: [1],
  },
  {
    input: {
      r: 0.2920430162781673,
      g: 0.5905321481464691,
      b: 0.5947778549407017,
    },
    output: [0],
  },
  {
    input: {
      r: 0.6195042283580527,
      g: 0.08856722648575954,
      b: 0.56071794391199,
    },
    output: [1],
  },
  {
    input: {
      r: 0.3862296324093406,
      g: 0.5911703677889031,
      b: 0.616313982899976,
    },
    output: [0],
  },
  {
    input: {
      r: 0.6025584418411001,
      g: 0.49358182859741984,
      b: 0.34940895317511944,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6554009322461882,
      g: 0.8859681023536097,
      b: 0.12984161276105,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5827221082848102,
      g: 0.6120979975133032,
      b: 0.08505989441126016,
    },
    output: [1],
  },
  {
    input: {
      r: 0.9336257458022892,
      g: 0.03843211525729573,
      b: 0.2926809397648007,
    },
    output: [0],
  },
  {
    input: {
      r: 0.38186766345775025,
      g: 0.36469047816985145,
      b: 0.2602409711134188,
    },
    output: [1],
  },
  {
    input: {
      r: 0.5246144056115072,
      g: 0.5469248633910486,
      b: 0.1391955809307528,
    },
    output: [0],
  },
  {
    input: {
      r: 0.6890849023013681,
      g: 0.11256761061121323,
      b: 0.8361002778330653,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7622705744577063,
      g: 0.132138753770634,
      b: 0.5729784296585614,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8561784514817372,
      g: 0.7825880655284561,
      b: 0.6203278963020384,
    },
    output: [1],
  },
  {
    input: {
      r: 0.07872608431570383,
      g: 0.12807067210783685,
      b: 0.8357151602962063,
    },
    output: [0],
  },
  {
    input: {
      r: 0.24843153852475308,
      g: 0.4678974885610807,
      b: 0.5217629437164604,
    },
    output: [1],
  },
  {
    input: {
      r: 0.015434735297491509,
      g: 0.9017873260782887,
      b: 0.7196348146853864,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8434658688770056,
      g: 0.21357921952138348,
      b: 0.744398519311003,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7534225326340807,
      g: 0.4021079654341482,
      b: 0.2856365363403086,
    },
    output: [0],
  },
  {
    input: {
      r: 0.3686788610909766,
      g: 0.4347329699456166,
      b: 0.0732387469993998,
    },
    output: [1],
  },
  {
    input: {
      r: 0.28997554993570507,
      g: 0.47089506687308513,
      b: 0.549224703657544,
    },
    output: [0],
  },
  {
    input: {
      r: 0.009420867304392067,
      g: 0.47492372588797593,
      b: 0.23871758900596807,
    },
    output: [1],
  },
  {
    input: {
      r: 0.9027732180330077,
      g: 0.12269148482372905,
      b: 0.3479178703378927,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8371469453976541,
      g: 0.9916314419928021,
      b: 0.24048579764463862,
    },
    output: [1],
  },
  {
    input: {
      r: 0.9003628670283963,
      g: 0.9174609816709476,
      b: 0.06543929307811003,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7835911747661957,
      g: 0.056213121036030156,
      b: 0.06154582334330261,
    },
    output: [1],
  },
  {
    input: {
      r: 0.4475060045611772,
      g: 0.9770402346362541,
      b: 0.06966109260523479,
    },
    output: [0],
  },
  {
    input: {
      r: 0.42301804176643154,
      g: 0.5473809175868996,
      b: 0.3525433215181233,
    },
    output: [1],
  },
  {
    input: {
      r: 0.11025867347940821,
      g: 0.5108774624264947,
      b: 0.3943827124443877,
    },
    output: [0],
  },
  {
    input: {
      r: 0.44477958599599043,
      g: 0.2430979213985438,
      b: 0.14271192784936426,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6010268346572532,
      g: 0.534616972103032,
      b: 0.4834701320013941,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8358134212607906,
      g: 0.23254628001288746,
      b: 0.725120466142364,
    },
    output: [1],
  },
  {
    input: {
      r: 0.756938250705703,
      g: 0.2189745010859998,
      b: 0.03162764842409893,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9002207323843319,
      g: 0.4325610999081153,
      b: 0.7797545564048127,
    },
    output: [1],
  },
  {
    input: {
      r: 0.10657473765879177,
      g: 0.37895533341882204,
      b: 0.5936013375125027,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9180578132815906,
      g: 0.13128761827778912,
      b: 0.9862395780575188,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7900297752806309,
      g: 0.34568481810039153,
      b: 0.7697620798403577,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9684558411192523,
      g: 0.4570999480329314,
      b: 0.6637228927607408,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7113419077210232,
      g: 0.8659269522728636,
      b: 0.9635405079993795,
    },
    output: [0],
  },
  {
    input: {
      r: 0.4105472872584066,
      g: 0.08985633063215492,
      b: 0.9476601539656109,
    },
    output: [1],
  },
  {
    input: {
      r: 0.32535191943175024,
      g: 0.9121635296910717,
      b: 0.5684846841061595,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9100890834527018,
      g: 0.10177080495888324,
      b: 0.9933623134761014,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6744656902317439,
      g: 0.47690631866060684,
      b: 0.37206167425077696,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5303227468008238,
      g: 0.2659735218238608,
      b: 0.3192495789550849,
    },
    output: [1],
  },
  {
    input: {
      r: 0.14739622924986917,
      g: 0.3266729300984892,
      b: 0.5824819668317143,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5323514113935233,
      g: 0.21331288470177512,
      b: 0.44753775517789207,
    },
    output: [1],
  },
  {
    input: {
      r: 0.4708696984905991,
      g: 0.6639579105578788,
      b: 0.7080634106823973,
    },
    output: [0],
  },
  {
    input: {
      r: 0.21341850333572876,
      g: 0.5814687121789979,
      b: 0.2030124149777368,
    },
    output: [1],
  },
  {
    input: {
      r: 0.5822860236282632,
      g: 0.07032808145137515,
      b: 0.4268810648243808,
    },
    output: [0],
  },
  {
    input: {
      r: 0.511695383915814,
      g: 0.12914381116844909,
      b: 0.9755590382547661,
    },
    output: [1],
  },
  {
    input: {
      r: 0.9284608611458021,
      g: 0.01650930203390133,
      b: 0.07097255985238915,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9013693261997362,
      g: 0.616486240747822,
      b: 0.954074687870456,
    },
    output: [1],
  },
  {
    input: {
      r: 0.3540801048675162,
      g: 0.3010878430477808,
      b: 0.2940333322424551,
    },
    output: [0],
  },
  {
    input: {
      r: 0.42910557032164265,
      g: 0.1536915310505209,
      b: 0.6350872405250689,
    },
    output: [1],
  },
  {
    input: {
      r: 0.23470315050602442,
      g: 0.9394138376186532,
      b: 0.7470242322095917,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5443994720052545,
      g: 0.5867085020647964,
      b: 0.573194213130714,
    },
    output: [1],
  },
  {
    input: {
      r: 0.021674991123519893,
      g: 0.11875063615775305,
      b: 0.9204909728419537,
    },
    output: [0],
  },
  {
    input: {
      r: 0.22827468053485012,
      g: 0.8844343664811516,
      b: 0.5489845669659656,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7913530638727537,
      g: 0.5563159922435779,
      b: 0.9062628359466902,
    },
    output: [0],
  },
  {
    input: {
      r: 0.49748040418624795,
      g: 0.7611157100218864,
      b: 0.9622561092631867,
    },
    output: [1],
  },
  {
    input: {
      r: 0.24954212244475338,
      g: 0.9814491509308723,
      b: 0.36559052449327933,
    },
    output: [0],
  },
  {
    input: {
      r: 0.15271943891976858,
      g: 0.8097368133114462,
      b: 0.5040133489911129,
    },
    output: [1],
  },
  {
    input: {
      r: 0.9614925051165939,
      g: 0.9710308982577875,
      b: 0.45909124389825684,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8908612025502951,
      g: 0.3186616600068912,
      b: 0.9425019346438219,
    },
    output: [1],
  },
  {
    input: {
      r: 0.20614833574372282,
      g: 0.46326466794025145,
      b: 0.416209239895019,
    },
    output: [0],
  },
  {
    input: { r: 0.9858760686882055, g: 0.763233820700282, b: 0.78073656227084 },
    output: [1],
  },
  {
    input: {
      r: 0.08599723258336,
      g: 0.018589119018731726,
      b: 0.4132719612927225,
    },
    output: [0],
  },
  {
    input: {
      r: 0.125335929794399,
      g: 0.9084367138213862,
      b: 0.9568026347118135,
    },
    output: [1],
  },
  {
    input: {
      r: 0.1750977266009448,
      g: 0.1121430120387823,
      b: 0.6170556161397407,
    },
    output: [0],
  },
  {
    input: {
      r: 0.06962449129893455,
      g: 0.2533221007256823,
      b: 0.8307130959054456,
    },
    output: [1],
  },
  {
    input: {
      r: 0.5870759497538287,
      g: 0.09192578001843499,
      b: 0.9753892982584114,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5112307578585673,
      g: 0.3918019678058584,
      b: 0.03201686526714154,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7493091615286607,
      g: 0.25436245975520166,
      b: 0.5341793850254377,
    },
    output: [0],
  },
  {
    input: {
      r: 0.07656715541745207,
      g: 0.6530128997065581,
      b: 0.15342933868898423,
    },
    output: [1],
  },
  {
    input: {
      r: 0.48362421786160725,
      g: 0.9656112993753669,
      b: 0.9955869252481193,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5596086413970798,
      g: 0.39536143311507854,
      b: 0.1530654194572605,
    },
    output: [1],
  },
  {
    input: {
      r: 0.1788373514160242,
      g: 0.8718585771659488,
      b: 0.19891652468890952,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5297877092351804,
      g: 0.2637003617375926,
      b: 0.7453469610456678,
    },
    output: [1],
  },
  {
    input: {
      r: 0.21551415808291097,
      g: 0.5405868308285136,
      b: 0.21718496587931213,
    },
    output: [0],
  },
  {
    input: {
      r: 0.20779377631549023,
      g: 0.8863321395151516,
      b: 0.7188262268096384,
    },
    output: [1],
  },
  {
    input: {
      r: 0.2185944826773365,
      g: 0.12562581144530793,
      b: 0.46743385515123226,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7642858718330345,
      g: 0.4752499822791538,
      b: 0.9573215614411565,
    },
    output: [1],
  },
  {
    input: {
      r: 0.2591589460544623,
      g: 0.03389081354261081,
      b: 0.3604732857546913,
    },
    output: [0],
  },
  {
    input: {
      r: 0.2899236822607991,
      g: 0.4062082103969533,
      b: 0.7553133874190789,
    },
    output: [1],
  },
  {
    input: {
      r: 0.722685232585266,
      g: 0.9874302766217433,
      b: 0.9467214008721676,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9488961680302943,
      g: 0.9657317360629285,
      b: 0.7906276954863312,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7723437514594955,
      g: 0.9904550250224724,
      b: 0.9713425341176367,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8926154233738617,
      g: 0.725684362430763,
      b: 0.8839288647523451,
    },
    output: [1],
  },
  {
    input: {
      r: 0.3584564925635745,
      g: 0.06596349674271784,
      b: 0.9355240344537481,
    },
    output: [0],
  },
];

net.train(data);

const colorEl = document.getElementById('color');
const guessEl = document.getElementById('guess');
const whiteButton = document.getElementById('white-button');
const blackButton = document.getElementById('black-button');
const printButton = document.getElementById('print-button');

let color;
setRandomColor();

whiteButton.addEventListener('click', () => {
  chooseColor(1);
});

blackButton.addEventListener('click', () => {
  chooseColor(0);
});

printButton.addEventListener('click', print);

function chooseColor(value) {
  data.push({
    input: color,
    output: [value],
  });
  setRandomColor();
}

function print() {
  console.log(JSON.stringify(data));
}

function setRandomColor() {
  color = {
    r: Math.random(),
    g: Math.random(),
    b: Math.random(),
  };

  const guess = net.run(color)[0];
  guessEl.style.color = guess > 0.5 ? '#fff' : '#000';
  colorEl.style.backgroundColor = `rgba(${color.r * 255}, ${color.g * 255}, ${
    color.b * 255
  })`;
}

function gatherData(num = 10) {
  for (let i = 0; i <= num; i++) {
    whiteButton.click();
    blackButton.click();
  }

  printButton.click();
}

// automatically prints the data for training the neural network
window.addEventListener('DOMContentLoaded', () => {
  gatherData(50);
});
